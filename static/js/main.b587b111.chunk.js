(this["webpackJsonpsimulacro-books"]=this["webpackJsonpsimulacro-books"]||[]).push([[0],{55:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(21),o=n.n(i),a=n(22),j=n(23),l=n(29),s=n(28),b=n(8),d=n(3),u=n(4),h=n(5),O=n.n(h),x=n(12),p=n.n(x),m=n(25),v=function(){var e=Object(m.a)(p.a.mark((function e(t){var n,c,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return" https://api.cloudinary.com/v1_1/dbyw7mbt6",(n=new FormData).append("upload_preset","front-6"),n.append("file",t),e.next=6,fetch(" https://api.cloudinary.com/v1_1/dbyw7mbt6",{method:"POST",body:n});case 6:return c=e.sent,e.next=9,c.json();case 9:return r=e.sent,e.abrupt("return",r.secure_url);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f="https://simulacro-api.herokuapp.com/registros/",g=n(57),y=n(0),S=function(){var e=Object(c.useState)({nombre:"",genero:"",autor:"",editorial:"",precio:"",imagen:""}),t=Object(u.a)(e,2),n=t[0],r=t[1],i=n.nombre,o=n.genero,a=n.autor,j=n.editorial,l=n.precio,s=n.imagen,h=function(e){var t=e.target;r(Object(d.a)(Object(d.a)({},n),{},Object(b.a)({},t.name,t.value))),console.log(n)};return Object(y.jsx)("div",{children:Object(y.jsxs)("form",{id:"formulario",onSubmit:function(e){e.preventDefault()},children:[Object(y.jsx)("h2",{children:"Registro de libros"}),Object(y.jsx)("hr",{}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"Nombre Completo"}),Object(y.jsx)("input",{id:"inputNombre",name:"nombre",value:i,onChange:h})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"Genero Libro"}),Object(y.jsxs)("select",{id:"selectGenero",name:"genero",value:o,onChange:h,children:[Object(y.jsx)("option",{name:"Seleccionar",value:"Seleccionar",children:"Seleccionar"}),Object(y.jsx)("option",{name:"Novela",value:"Novela",children:"Novela"}),Object(y.jsx)("option",{name:"Sci-fi",value:"Sci-fi",children:"Sci-fi"}),Object(y.jsx)("option",{name:"Terror",value:"Terror",children:"Terror"})]})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"Autor"}),Object(y.jsx)("input",{id:"inputAutor",type:"text",name:"autor",value:a,onChange:h})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"Editorial"}),Object(y.jsx)("input",{id:"inputEditorial",type:"text",name:"editorial",value:j,onChange:h})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"Precio"}),Object(y.jsx)("input",{id:"inputPrecio",type:"number",name:"precio",value:l,onChange:h})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("label",{children:"Imagen"}),Object(y.jsx)("input",{id:"botonImagen",type:"file",name:"imagen",value:s,onChange:function(e){var t=e.target.files[0];v(t).then((function(e){n.imagen=e})).catch((function(e){console.log(e)}))}})]}),Object(y.jsx)("div",{children:Object(y.jsx)(g.a,{id:"btnRegistro",onClick:function(){O.a.post(f,n).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},children:"Enviar"})})]})})},C=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1];Object(c.useEffect)((function(){i()}),[]);var i=function(){O.a.get(f).then((function(e){r(e.data)})).catch((function(e){console.log(e)}))};return Object(y.jsx)("div",{children:Object(y.jsxs)("table",{className:"tabla",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Nombre"}),Object(y.jsx)("th",{children:"Genero"}),Object(y.jsx)("th",{children:"Autor"}),Object(y.jsx)("th",{children:"Editorial"}),Object(y.jsx)("th",{children:"Precio"}),Object(y.jsx)("th",{children:"Imagen"}),Object(y.jsx)("th",{children:"Acci\xf3n"})]})}),Object(y.jsx)("tbody",{children:n.map((function(e){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:e.nombre}),Object(y.jsx)("td",{children:e.genero}),Object(y.jsx)("td",{children:e.autor}),Object(y.jsx)("td",{children:e.editorial}),Object(y.jsx)("td",{children:e.precio}),Object(y.jsx)("td",{children:e.imagen}),Object(y.jsx)("td",{children:Object(y.jsx)("button",{onClick:function(){return t=e.id,void O.a.delete(f+t).then((function(e){i()})).catch((function(e){console.log(e)}));var t},children:"Eliminar"})})]},e.id)}))})]})})},k=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(y.jsxs)("div",{children:[Object(y.jsx)(S,{}),Object(y.jsx)(C,{})]})}}]),n}(c.Component);n(54);o.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(k,{})}),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.b587b111.chunk.js.map